""""""""""""""""""""""""""""""
" Plugin management
set rtp+=~/.vim/bundle/vundle/
call vundle#begin()

" Let vundle manage itself:
Plugin 'gmarik/vundle'

Plugin 'hzchirs/vim-material'
Plugin 'godlygeek/tabular'

" Markdown support
Plugin 'plasticboy/vim-markdown'
Plugin 'JamshedVesuna/vim-markdown-preview'

" Python
Plugin 'vim-scripts/indentpython.vim'
Plugin 'vim-syntastic/syntastic'
Plugin 'nvie/vim-flake8'
Bundle 'plytophogy/vim-virtualenv'

" Just a shitload of color schemes.
" https://github.com/flazz/vim-colorschemes#current-colorschemes
Plugin 'flazz/vim-colorschemes'

" Fuzzy finder -- absolutely must have.
Plugin 'kien/ctrlp.vim'

" Support for easily toggling comments.
Plugin 'tpope/vim-commentary'

" Proper JSON filetype detection, and support.
Plugin 'leshill/vim-json'

" vim indents HTML very poorly on it's own. This fixes a lot of that.
Plugin 'indenthtml.vim'

" Ansible yaml
Plugin 'chase/vim-ansible-yaml'

" git wrapper
Plugin 'tpope/vim-fugitive'

" directory tree with git support
Plugin 'scrooloose/nerdtree'
Plugin 'Xuyuanp/nerdtree-git-plugin'

" airline statusline
Plugin 'bling/vim-airline'

" vim surround
Plugin 'tpope/vim-surround'

" Auto-complete
" Bundle 'Valloric/YouCompleteMe'

call vundle#end()
filetype plugin indent on

" Load the base vim configuration
source ~/.vim/vimrcbase

set nocompatible " Fuck VI... That's for grandpas.
filetype off

" Syntax highlighting
syntax on
let g:python_highlight_all=1

" Use sane regex's when searching
nnoremap / /\v
vnoremap / /\v

" Prefer tabs instead of buffers
set switchbuf=usetab,newtab

" We have VCS -- we don't need this stuff.
set nobackup " We have vcs, we don't need backups.
set nowritebackup " We have vcs, we don't need backups.
set noswapfile " They're just annoying. Who likes them?

" Set the copy buffer to be CLIPBOARD
set clipboard=unnamedplus

" Enable folding with za
set foldmethod=indent
set foldlevel=99

" Generic
set nu

" Python settings
au BufNewFile,BufRead *.py
    \ set tabstop=4 |
    \ set softtabstop=4 |
    \ set shiftwidth=4 |
    \ set expandtab |
    \ set autoindent |
    \ set fileformat=unix
highlight BadWhitespace ctermbg=red guibg=darkred
au BufRead,BufNewFile *.py,*.pyw,*.c,*.h match BadWhitespace /\s\+$/
set encoding=utf-8

" Jenkinsfile
au BufRead,BufNewFile Jenkinsfile setf groovy

""""""""""""""""""""""""""""""
" Plugin settings            "
""""""""""""""""""""""""""""""

" Configure NERDTree
autocmd StdinReadPre * let s:std_in=1
autocmd VimEnter * if argc() == 1 && isdirectory(argv()[0]) && !exists("s:std_in") | exe 'NERDTree' argv()[0] | wincmd p | ene | endif
nnoremap <C-n> :NERDTreeToggle<CR>
let NERDTreeMinimalUI = 1
let NERDTreeShowHidden = 1
let NERDTreeIgnore=['\.pyc$', '\~$']

" Set the maximum number of CtrlP results
let g:ctrlp_max_height = 15
nnoremap <A-p> :<C-U>CtrlPBuffer<CR>
set wildignore+=*.pyc

" Finally the color scheme. Choose whichever you want from the list in the
" link above (back up where we included the bundle of a ton of themes.)
if isdirectory("~/.vim/bundle/vim-material")
    colorscheme vim-material
endif

